---
import 'video.js/dist/video-js.css';
const {thumbnail, hls, autoplay} = Astro.props;
---

<video
id="my-video"
class="video-js video"
controls
preload="auto"
width="640"
height="264"
poster={thumbnail}
data-setup='{}'
autoplay={ autoplay ? true : false }
muted={ autoplay ? true : false }

>

<source src={hls} type="application/x-mpegURL" />

<p class="vjs-no-js">
  To view this video please enable JavaScript, and consider upgrading to a
  web browser that
  <a href="https://videojs.com/html5-video-support/" target="_blank"
    >supports HTML5 video</a>
</p>

</video>

<style>
	.video {
    padding:56.25% 0 0 0 !important;
    position:relative !important;
    width: 100%;

    > video {
      position: absolute; 
      top:0;
      left:0;
      width:100%;
      height:100%;
    }
	}
</style>

<script>
  import videojs from 'video.js';
  const videoElement = document.getElementById('my-video');

  videojs(videoElement, { autoplay: true });
</script>
